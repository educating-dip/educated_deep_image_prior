# @package _global_
pretraining: True
save_reconstruction_path: ./results/pretraining2inputs/

mdl:
  load_pretrain_model: True
  learned_params_path: src/reference_params/model_with_noise_${data.name}
  recon_from_randn: True
  add_init_reco: True
  log_path: ./runs/pretraining2inputs/
  normalize_by_stats: True
  stats: ${data.stats}
  implicit_scaling_except_for_test_data: ${data.implicit_scaling_except_for_test_data}
  optim:
    use_scheduler: True
    use_adaptive_lr: False
    encoder:
      lr: 1e-4
      init_lr: 1e-7
      num_warmup_iter: 500
    decoder:
      lr: 1e-4
      init_lr: 1e-7
      num_warmup_iter: 750
    # adaptive_lr:
    #   num_avg_iter: 25
    #   min_rel_loss_decrease: -2.
    #   restart_scheduler: True
    #   multiply_lr_by: 1.
    #   multiply_init_lr_by: 1.

trn:
  save_best_learned_params_path: src/reference_params/model_with_noise_${data.name}
  add_randn_mask: ${mdl.add_init_reco}
  log_path: ./runs/pretraining2inputs/
